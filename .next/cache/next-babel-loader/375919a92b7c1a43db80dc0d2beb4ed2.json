{"ast":null,"code":"import groq from \"groq\";\nimport client from \"./sanity-client\";\nexport default async function getPostBySlug(slug) {\n  const query = groq`*[_type == \"post\" && slug.current == $slug][0]{\n      title,\n      \"name\": author->name,\n      \"categories\": categories[]->title,\n      \"authorImage\": author->image,\n      publishedAt,\n      body\n    }`;\n  return client.fetch(query, {\n    slug\n  });\n}\nexport async function getAllCategories() {\n  const query = groq`*[_type == \"category\"]{\n        title,\n        slug\n      }`;\n  return client.fetch(query, {});\n}\nexport async function getAllPostsInCategory(category) {\n  const query = groq`*[_type == \"post\" && categories[].slug == $category]{\n      title,\n      slug,\n  }`;\n  return client.fetch(query, {\n    category\n  });\n}","map":{"version":3,"sources":["/home/stephen/Apps/next-portfolio/src/content-api.js"],"names":["groq","client","getPostBySlug","slug","query","fetch","getAllCategories","getAllPostsInCategory","category"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,eAAe,eAAeC,aAAf,CAA6BC,IAA7B,EAAmC;AAC9C,QAAMC,KAAK,GAAGJ,IAAK;;;;;;;MAAnB;AASA,SAAOC,MAAM,CAACI,KAAP,CAAaD,KAAb,EAAoB;AAAED,IAAAA;AAAF,GAApB,CAAP;AACH;AAED,OAAO,eAAeG,gBAAf,GAAkC;AACrC,QAAMF,KAAK,GAAGJ,IAAK;;;QAAnB;AAKA,SAAOC,MAAM,CAACI,KAAP,CAAaD,KAAb,EAAoB,EAApB,CAAP;AACH;AAED,OAAO,eAAeG,qBAAf,CAAqCC,QAArC,EAA+C;AAClD,QAAMJ,KAAK,GAAGJ,IAAK;;;IAAnB;AAKA,SAAOC,MAAM,CAACI,KAAP,CAAaD,KAAb,EAAoB;AAAEI,IAAAA;AAAF,GAApB,CAAP;AACH","sourcesContent":["import groq from \"groq\";\nimport client from \"./sanity-client\";\n\nexport default async function getPostBySlug(slug) {\n    const query = groq`*[_type == \"post\" && slug.current == $slug][0]{\n      title,\n      \"name\": author->name,\n      \"categories\": categories[]->title,\n      \"authorImage\": author->image,\n      publishedAt,\n      body\n    }`;\n\n    return client.fetch(query, { slug });\n}\n\nexport async function getAllCategories() {\n    const query = groq`*[_type == \"category\"]{\n        title,\n        slug\n      }`;\n\n    return client.fetch(query, {});\n}\n\nexport async function getAllPostsInCategory(category) {\n    const query = groq`*[_type == \"post\" && categories[].slug == $category]{\n      title,\n      slug,\n  }`;\n\n    return client.fetch(query, { category });\n}\n"]},"metadata":{},"sourceType":"module"}